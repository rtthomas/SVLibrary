{"version":3,"sources":["webpack:///./src/app/add-book/add-book.component.ts","webpack:///./src/app/edit-catalog/edit-catalog.component.ts","webpack:///./src/app/ledger/ledger.component.ts","webpack:///./src/app/model/book.model.ts","webpack:///./src/app/model/borrower.model.ts","webpack:///./src/app/model/catalog.model.ts","webpack:///./src/app/model/loan.model.ts","webpack:///./src/app/new-catalog/new-catalog.component.ts","webpack:///./src/app/cache.service.ts","webpack:///./src async","webpack:///./src/main.ts","webpack:///./src/app/app.component.ts","webpack:///./src/app/ledger/borrower-picklist/borrower-picklist.component.ts","webpack:///./src/environments/environment.ts","webpack:///./src/app/app.module.ts","webpack:///./src/app/server.service.ts","webpack:///./src/app/app.component.css","webpack:///./src/app/add-book/add-book.component.html","webpack:///./src/app/app.component.html","webpack:///./src/app/edit-catalog/edit-catalog.component.html","webpack:///./src/app/ledger/borrower-picklist/borrower-picklist.component.html","webpack:///./src/app/ledger/ledger.component.html","webpack:///./src/app/new-catalog/new-catalog.component.html","webpack:///./src/app/utilities.service.ts"],"names":[],"mappings":"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","file":"main.bundle.js","sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { CacheService } from '../cache.service';\nimport { ServerService } from '../server.service';\nimport { NgForm } from '@angular/forms';\nimport { FileUploader } from 'ng2-file-upload';\nimport { Catalog } from '../model/catalog.model';\nimport { Book } from '../model/book.model'\n\ndeclare var $: any;\n\n@Component({\n  selector: 'app-add-book',\n  templateUrl: './add-book.component.html'\n})\nexport class AddBookComponent implements OnInit {\n\n  public uploader:FileUploader = new FileUploader({});\n  public bookNumber: string;\n  public catalogs = [];\n  public selectedCatalog: string;\n  public numberError: string = \"\";\n\n  private languageToPrefix = {};\n  private frontImageUploaded = false;\n  private backImageUploaded = false;\n  private newBook: Book;\n  private numbers = [];\n  private numberToBook = {};\n\n  constructor(private cacheService: CacheService, private serverService: ServerService) { }\n\n  ngOnInit() {\n    // Retrieve catalogs from the cache, and create map of catalog language to catalog prefix  \n    this.catalogs = this.cacheService.getCatalogs();\n    for (var i in this.catalogs){\n      var c:Catalog = this.catalogs[i];\n      this.languageToPrefix[c.language] = c.id;\n    }\n  }\n\n  /** Called when catalog selected */\n  selectCatalog(){\n    // Create sorted array of book numbers\n    var books: Array<Book> = this.cacheService.getBooks(this.languageToPrefix[this.selectedCatalog.trim()]);\n    this.numbers = [];\n    this.numberToBook = {};\n    for (var i in books){\n      var book = books[i];\n      this.numbers.push(book.number);\n      this.numberToBook[book.number] = book;\n    }\n    this.numbers.sort();\n    if (this.numbers.length == 0){\n      this.bookNumber = '1';\n    }\n    else {\n      var nextNumber:number = this.numbers[this.numbers.length - 1];\n      nextNumber++;\n      this.bookNumber = new String(nextNumber).toString();\n    }\n  }\n  \n  /** Adds a book to the catalog */\n  add(){\n    // First check if user tries to enter the same number twice\n    if (this.numberToBook[this.bookNumber]){\n      this.numberError = \"That book has already been added\";\n      return;\n    }\n    else {\n      this.numberError = \"\";\n    }\n    this.newBook = new Book(null, this.bookNumber, this.languageToPrefix[this.selectedCatalog.trim()], null, false);\n    this.cacheService.save('books', this.newBook); \n    // Show the image upload area\n    $('#image-entry').show();\n  }\n\n  /** Uploads a cover image to the server\n   * @param side 'front' or 'back'\n   */\n  uploadImage(side){\n    var url = this.serverService.baseUrl + \"book/\" + this.newBook.id + \"/image?side=\" + side;\n    this.uploader.setOptions({url: url, disableMultipart: true});\n    this.uploader.uploadAll();\n    if (side == \"front\"){\n      this.frontImageUploaded = true;\n    }\n    else {\n      this.backImageUploaded = true;\n    }\n    if (this.frontImageUploaded && this.backImageUploaded){\n      $('#download').removeAttr(\"disabled\");\n    }\n  }\n\n  downloadPdf(){\n    this.serverService.fetchBookPdf(this.newBook.id);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/add-book/add-book.component.ts","import { Component, OnInit } from '@angular/core';\nimport { Observable } from 'rxjs/Observable';\nimport { CacheService } from '../cache.service';\nimport { ServerService } from '../server.service';\nimport { NgForm } from '@angular/forms';\nimport { FileUploader } from 'ng2-file-upload';\nimport { Catalog } from '../model/catalog.model';\nimport { Book } from '../model/book.model'\n\ndeclare var $: any;\n\n@Component({\n  selector: 'app-edit-catalog',\n  templateUrl: './edit-catalog.component.html'\n})\nexport class EditCatalogComponent implements OnInit {\n\n  constructor(private cacheService: CacheService, private serverService: ServerService) { }\n\n  public uploader: FileUploader = new FileUploader({});\n  catalogs = [];\n  bookTags = [];\n  selectedCatalog: string;\n  selectedBook: string;\n\n  private booksInCatalog = [];\n  private languageToPrefix = {};\n  private tagToBook = {};\n\n  ngOnInit() {\n    // Retrieve catalogs from the cache, and create map of catalog language to catalog prefix  \n    this.catalogs = this.cacheService.getCatalogs();\n    for (var i in this.catalogs) {\n      var c: Catalog = this.catalogs[i];\n      this.languageToPrefix[c.language] = c.id;\n    }\n  }\n\n  uploadImage(side) {\n    var url = this.serverService.baseUrl + \"book/\" + this.tagToBook[this.selectedBook]['id'] + \"/image?side=\" + side;\n    this.uploader.setOptions({ url: url, disableMultipart: true });\n    this.uploader.uploadAll();\n  }\n\n  downloadPdf() {\n    this.serverService.fetchBookPdf(this.tagToBook[this.selectedBook]['id']);\n  }\n\n  downloadAllPdf() {\n    var catalogId = this.languageToPrefix[this.selectedCatalog.trim()];\n    this.serverService.fetchCatalogPdf(catalogId);\n  }\n\n  selectCatalog() {\n    // Fetch all books in the catalog\n    this.booksInCatalog = this.cacheService.getBooks(this.languageToPrefix[this.selectedCatalog]);\n    this.bookTags = [];\n    this.tagToBook = {};\n    // Create array of book tags, and map of tags to books\n    for (var b in this.booksInCatalog) {\n      var book: Book = this.booksInCatalog[b];\n      var tag = book.catalogId + book.number;\n      this.bookTags.push(tag);\n      this.tagToBook[tag] = book;\n    }\n    // Sort the book tag array\n    this.bookTags.sort();\n\n    this.selectedBook = this.bookTags[0];\n    // Enable the button to generate entire catalog pdf\n    $('#download-all').removeAttr(\"disabled\");\n    // Enable the Remove button\n    $('#remove').removeAttr(\"disabled\");\n  }\n\n  removeBook() {\n    var book: Book = this.tagToBook[this.selectedBook];\n    \n    const observable: Observable<any> = this.cacheService.delete('books', book);\n    observable.subscribe(\n      (next: any) => { },\n      (error: any) => { },\n      () => {\n        this.selectCatalog();\n      }\n    );\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/edit-catalog/edit-catalog.component.ts","import { Component, OnInit } from '@angular/core';\nimport { Observable } from 'rxjs/Observable';\nimport { CacheService } from '../cache.service';\nimport { ServerService } from '../server.service';\nimport { UtilitiesService } from './../utilities.service';\nimport { Borrower } from '../model/borrower.model';\nimport { Catalog } from '../model/catalog.model';\nimport { Book } from '../model/book.model'\nimport { Loan } from '../model/loan.model'\nimport { differenceInDays } from 'date-fns';\nimport { format } from 'date-fns';\nimport { addDays } from 'date-fns';\n\ndeclare var $: any;\n\n@Component({\n  selector: 'app-ledger',\n  templateUrl: './ledger.component.html'\n})\nexport class LedgerComponent implements OnInit {\n\n  selectedCatalog: string;    // Catalog language selected from picklist\n  selectedBook: string;       // Tag of selected book (catalog id + book number)\n  selectedBorrower: Borrower;\n  newBorrower: Borrower = new Borrower(null, null, null, null);\n  borrowerMessage: string = '';\n  loanMessage: string;\n\n  private bookTags = [];        // Tags of all books in selected catalog\n\n  resetBorrowerPicklist: boolean = false;\n\n  private catalogs = [];          // All Catalog objects\n  private bookTagMap = {};        // Maps book tag to Book\n  private languageToPrefix = {};  // Catalog language to prefix\n  private borrowerToLoanMap = {}; // Borrower id to loan\n  private bookToLoanMap = {};     // Book id to loan\n  private currentLoan: Loan;\n  private activeBorrowerArea: string;\n\n  constructor(\n    private cacheService: CacheService,\n    private utilitiesService: UtilitiesService,\n    private serverService: ServerService) { }\n\n  ngOnInit() {\n    if (this.utilitiesService.isMobileDevice()) {\n      // On mobile device, this will be the only component\n      const observable: Observable<any> = this.cacheService.initialize();\n      observable.subscribe(\n        (next: any) => { },\n        (error: any) => {console.log('Error iniializing cache');  },\n        () => {\n          this.initialize();\n        }\n      );\n    }\n    else {\n      this.initialize();\n    }\n  }\n\n  private initialize() {\n    // Retrieve catalogs from the cache, and create map of catalog language to catalog prefix  \n    this.catalogs = this.cacheService.getCatalogs();\n    for (var i in this.catalogs) {\n      var c: Catalog = this.catalogs[i];\n      this.languageToPrefix[c.language] = c.id;\n    }\n    // Retrieve the loans and create loan map\n    var loans = this.cacheService.getLoans();\n    for (var j = 0; j < loans.length; j++) {\n      var loan: Loan = loans[j];\n      this.borrowerToLoanMap[loan.borrowerId] = loan;\n      this.bookToLoanMap[loan.bookId] = loan;\n    }\n    // Display the Download Ledger button only if not on mobile\n    if (!this.utilitiesService.isMobileDevice()) {\n      $('#download-ledger').show();\n    }\n  }\n\n  toggleNewBorrowerArea() {\n    this.clearAllFields();\n    this.collapse('borrow-return');\n    this.collapse('update-borrower');\n  }\n\n  toggleUpdateBorrowerArea() {\n    this.clearAllFields();\n    this.collapse('borrow-return');\n    this.collapse('new-borrower')\n    this.activeBorrowerArea = 'update-borrower';\n  }\n\n  toggleBorrowReturnArea() {\n    this.clearAllFields();\n    $('#borrower-status').attr('style', \"display:none!important\");\n    $('#select-book').attr('style', \"display:none!important\");\n    this.collapse('new-borrower');\n    this.collapse('update-borrower')\n    this.activeBorrowerArea = 'borrow-return';\n  }\n\n  private clearAllFields() {\n    this.resetBorrowerPicklist = !this.resetBorrowerPicklist;\n    this.selectedCatalog = null;\n    this.newBorrower = new Borrower(null, null, null, null);\n    this.selectedBook = null;\n    this.selectedBorrower = null;\n    this.loanMessage = '';\n    $('#borrow').attr(\"disabled\", \"true\");\n  }\n\n  addBorrower() {\n    var n = this.newBorrower.name;\n    var s = this.newBorrower.surname;\n    var l = this.newBorrower.location;\n    if (n == null || n.length == 0 || s == null || s.length == 0 || l == null || l.length == 0) {\n      this.borrowerMessage = \"You must enter name, surname and location\";\n      return;\n    }\n    // Capitalize the fields\n    this.newBorrower.name = n.substr(0, 1).toUpperCase() + n.substring(1).toLowerCase();\n    this.newBorrower.surname = s.substr(0, 1).toUpperCase() + s.substring(1).toLowerCase();\n    this.newBorrower.location = l.substr(0, 1).toUpperCase() + l.substring(1);\n    this.cacheService.save('borrowers', this.newBorrower);\n    this.borrowerMessage = this.newBorrower.name.concat(' ').concat(this.newBorrower.surname).concat(' has been registered');\n\n    this.newBorrower = new Borrower(null, null, null, null);\n  }\n\n  /** Called when borrower selection started in borrower-picklist component */\n  onBorrowerSelectionStarted(ignored) {\n    this.borrowerMessage = '';\n    this.loanMessage = '';\n    this.selectedCatalog = null;\n    this.selectedBook = null;\n    $('#borrower-status').attr('style', \"display:none!important\");\n    $('#select-book').attr('style', \"display:none!important\");\n  }\n\n  /** Called when borrower selected in the borrower-picklist component */\n  onBorrowerSelected(borrower: Borrower) {\n    this.loanMessage = '';\n    this.selectedBorrower = borrower;\n\n    if (this.activeBorrowerArea == 'borrow-return') {\n      this.currentLoan = this.borrowerToLoanMap[borrower.id];\n\n      if (this.currentLoan != null) {\n        // Borrower has a book out on loan\n        var book: Book = this.cacheService.getBook(this.currentLoan.bookId);\n        // Determine if it is overdue\n\n        var dueDate: string = format(this.currentLoan.dueDate, 'MMMM D');\n        var daysOnLoan = differenceInDays(new Date(), this.currentLoan.date);\n\n        var m = \"Book \" + book.catalogId.concat(book.number);\n        if (daysOnLoan < 14) {\n          this.loanMessage = m + \" is due back on \" + dueDate;\n        }\n        else if (daysOnLoan == 14) {\n          this.loanMessage = m + \" is due back today\"\n        }\n        else {\n          this.loanMessage = m + \" was due back on \" + dueDate;\n        }\n        $('#borrower-status').show();\n      }\n      else {\n        // Display the book selector\n        $('#select-book').show();\n      }\n    }\n    else { //activeBorrowerArea == 'update-borrower'\n      // TODO Implement borrower update \n    }\n  }\n\n  selectCatalog() {\n    // Fetch all books in the catalog\n    var booksInCatalog = this.cacheService.getBooks(this.languageToPrefix[this.selectedCatalog]);\n    this.bookTags = [];\n    for (var b in booksInCatalog) {\n      var book: Book = booksInCatalog[b];\n      var tag = book.catalogId.concat(book.number);\n      this.bookTags.push(tag);\n      this.bookTagMap[tag] = book;\n    }\n    this.bookTags.sort();\n    this.selectedBook = this.bookTags[0];\n    // Enable the Borrow button\n    $('#borrow').removeAttr(\"disabled\");\n  }\n\n  selectBook() {\n    this.loanMessage = '';\n  }\n\n  borrowBook() {\n    var book: Book = this.bookTagMap[this.selectedBook];\n    var loan: Loan = this.bookToLoanMap[book.id];\n    if (loan) {\n      // Book is out on loan\n      this.loanMessage = book.catalogId.concat(book.number).concat(' is already loaned out.');\n      return;\n    }\n    $('#select-book').attr('style', \"display:none!important\");\n    this.resetBorrowerPicklist = !this.resetBorrowerPicklist;\n\n    var today = new Date();\n    var dueDate = addDays(today, 14);\n    loan = new Loan(null, this.selectedBorrower.id, book.id, today, dueDate);\n    this.cacheService.save(\"loans\", loan);\n    this.borrowerToLoanMap[loan.borrowerId] = loan;\n    this.bookToLoanMap[loan.bookId] = loan;\n\n    this.loanMessage = 'Book ' + this.selectedBook.concat(' is due back on ').concat(format(dueDate, 'MMMM D'));\n  }\n\n  returnBook() {\n    const observable: Observable<any> = this.cacheService.delete('loans', this.currentLoan);\n    observable.subscribe(\n      (next: any) => { },\n      (error: any) => {console.log('Error deleting loan'); },\n      () => {\n        console.log('Deleted loan');\n        delete this.borrowerToLoanMap[this.currentLoan.borrowerId];\n        delete this.bookToLoanMap[this.currentLoan.bookId];\n        $('#borrower-status').attr('style', \"display:none!important\");\n      }\n    );\n  }\n\n  downloadLedger() {\n    this.collapse('borrow-return');\n    this.collapse('new-borrower');\n    this.serverService.fetchLedgerPdf();\n  }\n\n  private collapse(elementId: string) {\n    $('#' + elementId).removeClass('in');\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/ledger/ledger.component.ts","import { CacheService } from '../cache.service';\r\nimport { Injectable } from '@angular/core';\r\nimport { AppModule } from '../app.module';\r\n\r\n@Injectable()\r\nexport class Book{\r\n    cacheService = AppModule.injector.get(CacheService);\r\n\r\n    constructor(\r\n        public id: number,\r\n        public number: string,\r\n        public catalogId: string,\r\n        public coverArtId: number,\r\n        public removed: boolean\r\n    ) { }\r\n    \r\n    static fromJson(json: any){\r\n        \r\n        return new Book(\r\n            json.id,\r\n            json.number,\r\n            json.catalogId, \r\n            json.coverArtId,\r\n            json.removed\r\n        );\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/model/book.model.ts","import { CacheService } from '../cache.service';\r\nimport { Injectable } from '@angular/core';\r\nimport { AppModule } from '../app.module';\r\n\r\n@Injectable()\r\nexport class Borrower{\r\n    cacheService = AppModule.injector.get(CacheService);\r\n\r\n    constructor(\r\n        public id: number,\r\n        public name: string,\r\n        public surname: string,\r\n        public location: string\r\n    ) { }\r\n    \r\n    static fromJson(json: any){        \r\n        return new Borrower(\r\n            json.id, \r\n            json.name,\r\n            json.surname,\r\n            json.location\r\n        );\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/model/borrower.model.ts","import { CacheService } from '../cache.service';\r\nimport { Injectable } from '@angular/core';\r\nimport { AppModule } from '../app.module';\r\n\r\n@Injectable()\r\nexport class Catalog{\r\n    cacheService = AppModule.injector.get(CacheService);\r\n\r\n    // The id value is the catalog prefix. This supports common handling of objects\r\n    // in the cache service\r\n    constructor(\r\n        public id: string,\r\n        public language: string\r\n    ) { }\r\n    \r\n    static fromJson(json: any){\r\n        return new Catalog(\r\n            json.id, \r\n            json.language \r\n        );\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/model/catalog.model.ts","import { CacheService } from '../cache.service';\r\nimport { Injectable } from '@angular/core';\r\nimport { AppModule } from '../app.module';\r\n\r\n@Injectable()\r\nexport class Loan{\r\n    cacheService = AppModule.injector.get(CacheService);\r\n\r\n    constructor(\r\n        public id: number,\r\n        public borrowerId: number,\r\n        public bookId: number,\r\n        public date: Date,\r\n        public dueDate: Date\r\n    ) { }\r\n    \r\n    static fromJson(json: any){        \r\n        return new Loan(\r\n            json.id,\r\n            json.borrowerId, \r\n            json.bookId,\r\n            new Date(json.date),\r\n            new Date(json.date)\r\n        );\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/model/loan.model.ts","import { Component, OnInit } from '@angular/core';\nimport { capitalize } from 'string';\nimport { CacheService } from '../cache.service';\nimport { Catalog } from '../model/catalog.model';\n\n@Component({\n  selector: 'app-new-catalog',\n  templateUrl: './new-catalog.component.html'\n})\nexport class NewCatalogComponent implements OnInit {\n\n  catalogPrefix:string = \"\";\n  catalogLanguage:string = \"\";\n  message: string = '';\n\n  private cache;\n\n  constructor(private cacheService: CacheService) { }\n\n  ngOnInit() {\n    this.cache = this.cacheService.getCatalogs();\n  }\n\n  createCatalog() {\n    this.catalogPrefix = this.catalogPrefix.toUpperCase();\n    this.catalogLanguage = this.catalogLanguage.substr(0, 1).toUpperCase() + this.catalogLanguage.substring(1).toLowerCase();\n    \n    for (var i in this.cache){\n      var catalog:Catalog = this.cache[i];\n      if (catalog.id == this.catalogPrefix){\n        this.message = \"There is already a \" + catalog.language + \" catalog with prefix \" + this.catalogPrefix;\n        return;\n      } \n    }\n    var catalog = new Catalog(this.catalogPrefix, this.catalogLanguage);\n    this.cacheService.save(\"catalogs\", catalog);\n    this.message = \"Created catalog for \" + this.catalogLanguage + \" books\";\n    this.catalogPrefix = \"\";\n    this.catalogLanguage = \"\";\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/new-catalog/new-catalog.component.ts","import { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs/Observable';\nimport { Observer } from 'rxjs/Observer';\nimport { ServerService } from './server.service';\nimport { Catalog } from './model/catalog.model';\nimport { Book } from './model/book.model';\nimport { Borrower } from './model/borrower.model';\nimport { Loan } from './model/loan.model';\n\ndeclare var $: any;\n\n@Injectable()\nexport class CacheService {\n\n  private entityMap = {\n    catalogs: {\n      entityName: 'catalog',\n      cache: []\n    },\n    borrowers: {\n      entityName: 'borrower',\n      cache: []\n    },\n    books: {\n      entityName: 'book',\n      cache: []\n    },\n    loans: {\n      entityName: 'loan',\n      cache: []\n    }\n  }\n\n  private idToEntity = {};\n\n  constructor(private server: ServerService) { }\n\n  initialize() {\n    const observable = Observable.create((observer: Observer<any>) => {\n      this.server.getAll('catalog').subscribe(\n        (response) => {\n          this.entityMap['catalogs'].cache = response.json();\n          this.convertToClasses(this.entityMap['catalogs'].cache, 'catalog');\n          $(\"#initialize-progress progress\").attr(\"value\", 1);\n\n          this.server.getAll('borrower').subscribe(\n            (response) => {\n              this.entityMap['borrowers'].cache = response.json();\n              this.convertToClasses(this.entityMap['borrowers'].cache, 'borrower');\n              $(\"#initialize-progress progress\").attr(\"value\", 2);\n\n              this.server.getAll('book').subscribe(\n                (response) => {\n                  this.entityMap['books'].cache = response.json();\n                  this.convertToClasses(this.entityMap['books'].cache, 'book');\n                  $(\"#initialize-progress\").attr(\"value\", 3);\n\n                  this.server.getAll('loan').subscribe(\n                    (response) => {\n                      this.entityMap['loans'].cache = response.json();\n                      this.convertToClasses(this.entityMap['loans'].cache, 'loan');\n                      $(\"#initialize-progress\").hide();\n\n                      this.addToLinkMap(this.entityMap['catalogs'].cache);\n                      this.addToLinkMap(this.entityMap['borrowers'].cache);\n                      this.addToLinkMap(this.entityMap['books'].cache);\n                      this.addToLinkMap(this.entityMap['loans'].cache);\n\n                      for (var key in this.idToEntity) {\n                        var entity = this.idToEntity[key];\n                        //                       this.resolveReferences(entity);\n                      }\n                      observer.complete();\n                    }\n                  );\n                }\n              );\n            }\n          );\n        }\n      );\n    });\n    return observable;\n  }\n\n  getCatalogs() {\n    return this.entityMap.catalogs.cache;\n  }\n\n  /** Returns array of borrowers sorted by name+surname */\n  getBorrowers() {\n    var names = [];\n    var map = {};\n    for (var i in this.entityMap.borrowers.cache) {\n      var borrower: Borrower = this.entityMap.borrowers.cache[i];\n      var name = borrower.name + borrower.surname;\n      names.push(name);\n      map[name] = borrower;\n    }\n    names.sort();\n    var borrowers = [];\n    for (var i in names) {\n      borrowers.push(map[names[i]]);\n    }\n    return borrowers;\n  }\n\n  /** Returns array of all books in a given catalog */\n  getBooks(catalogId: string) {\n    var books = [];\n    for (var b in this.entityMap.books.cache) {\n      var book: Book = this.entityMap.books.cache[b];\n      if (book.catalogId == catalogId) {\n        books.push(book);\n      }\n    }\n    return books;\n  }\n\n  getLoans() {\n    return this.entityMap.loans.cache;\n  }\n\n  getBook(bookId: number) {\n    return this.idToEntity[bookId];\n  }\n  /*\n  removeBook(catalogId: string, bookNumber: string) {\n    var bookNumber = bookId.substr(catalogId)\n    var catalogId = this.languageToPrefix[this.selectedCatalog.trim()];\n    var bookNumber = this.selectedBook.substr(catalogId.length);\n    var url = this.serverService.baseUrl + \"book/\" + catalogId + \"/\" + bookId;\n  }\n*/\n  /** Converts JSON representation of an entity into an object of the entity'e class */\n  private convertToClasses(cache: any, type: string) {\n    for (var i in cache) {\n      var elem = cache[i];\n      switch (type) {\n        case 'catalog': cache[i] = Catalog.fromJson(elem); break;\n        case 'borrower': cache[i] = Borrower.fromJson(elem); break;\n        case 'book': cache[i] = Book.fromJson(elem); break;\n        case 'loan': cache[i] = Loan.fromJson(elem); break;\n      }\n    }\n  }\n  /** Adds all entities from a given cache to  map of id to entity */\n  private addToLinkMap(cache) {\n    for (var i = 0; i < cache.length; i++) {\n      var entity = cache[i];\n      var id = entity['id'];\n      this.idToEntity[id] = entity;\n    }\n  }\n  /**\n   * Augments an entity with references to other entities identified by a \"foreign key\" field\n   * in the entity. Such keys are named by the pattern <entity-name>Id.\n   * Thus is an entity contains a foo.Id field, a reference to the foo object is added to\n   * the entity with element name 'foo'\n   * is  \n   */\n  private resolveReferences(entity) {\n    for (var elementName in entity) {\n      if (elementName.indexOf('Id') > 0) {\n        var foreignKey = entity[elementName];\n        var referencedEntityType = elementName.substring(0, elementName.length - 2);\n        var referencedEntity = this.idToEntity[foreignKey];\n        if (referencedEntity) {\n          entity[referencedEntityType] = referencedEntity;\n        }\n      }\n    }\n  }\n\n  /** Saves an entity to the server, and adds it to the cache */\n  save(type: string, entity: any) {\n    var entityName = this.entityMap[type].entityName;\n    this.server.create(entityName, entity).subscribe(\n      (response) => {\n        try {\n          // var json = response.json();\n          entity.id = response.json();\n        }\n        catch (error) {\n          console.log(\"No id returned\");\n        }\n        // Add it to the cache and key map          \n        this.entityMap[type].cache.push(entity);\n        var id = entity['id'];\n        this.idToEntity[id] = entity;\n        //         this.resolveReferences(entity);\n      },\n      (error) => {\n        console.log(error)\n      }\n    );\n  }\n\n  /** Deletes an entity on the server, and removes it from the cache */\n  delete(type: string, entity: any) {\n    const observable = Observable.create((observer: Observer<any>) => {\n      var entityName = this.entityMap[type].entityName;\n      this.server.delete(entityName, entity.id).subscribe(\n        (response) => {\n          this.entityMap[type].cache = this.entityMap[type].cache.filter(function (e) {\n            return this.id != e.id;\n          }, { id: entity.id });\n          delete this.idToEntity[entity.id];\n          observer.complete();\n        },\n        (error) => {\n          console.log(error)\n        }\n      );\n    });\n    return observable;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/cache.service.ts","function webpackEmptyContext(req) {\n\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 203;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src async\n// module id = 203\n// module chunks = 1","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule);\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.ts","import { Component, ComponentFactoryResolver, ViewContainerRef } from '@angular/core';\nimport { Observable } from 'rxjs/Observable';\nimport { CacheService } from './cache.service';\nimport { UtilitiesService } from './utilities.service';\nimport { Book } from './model/book.model';\nimport { Borrower } from './model/borrower.model';\nimport { NewCatalogComponent } from './new-catalog/new-catalog.component';\nimport { EditCatalogComponent } from './edit-catalog/edit-catalog.component';\nimport { AddBookComponent } from './add-book/add-book.component';\nimport { LedgerComponent } from './ledger/ledger.component';\n\ndeclare var $: any;\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n})\n\nexport class AppComponent {\n\n  activeComponentSelector;\n  componentMap = [];\n\n  constructor(\n    private cacheService: CacheService,\n    private utilitiesService: UtilitiesService,\n    private componentFactoryResolver: ComponentFactoryResolver,\n    private viewContainerRef: ViewContainerRef) {\n  }\n\n  ngOnInit() {\n\n    if (this.utilitiesService.isMobileDevice()) {\n      this.injectComponent(LedgerComponent);\n    }\n    else {\n      const observable: Observable<any> = this.cacheService.initialize();\n      observable.subscribe(\n        (next: any) => { },\n        (error: any) => { },\n        () => {\n          this.initialize();\n        }\n      );\n    }\n  }\n\n  private initialize() {\n      $('#for-desktop').show();\n      // Each of the five \"tab component\" has Map of values of the JQuery selectorscomponent argument to the activate() method below to\n      // the corresponding Component object\n      this.componentMap['#new-catalog'] = NewCatalogComponent;\n      this.componentMap['#edit-catalog'] = EditCatalogComponent;\n      this.componentMap['#add-book'] = AddBookComponent;\n      this.componentMap['#ledger'] = LedgerComponent;\n   }\n\n  /** Activates the component selected from the tab by dynamically injecting it\n   * @param component the selector of the root element of the component \n   */\n  activate(componentSelector) {\n    // First remove the current activated component unless it is the same one\n    if (this.activeComponentSelector) {\n      if (componentSelector == this.activeComponentSelector) {\n        // COmponent is already selected and visible\n        return;\n      }\n      $(this.activeComponentSelector).remove();\n    }\n    // Create and inject the component \n    this.injectComponent(this.componentMap[componentSelector]);\n    // Record it \n    this.activeComponentSelector = componentSelector;\n  }\n\n  private injectComponent(component){\n    const factory = this.componentFactoryResolver.resolveComponentFactory(component);\n    const ref = this.viewContainerRef.createComponent(factory);\n    ref.changeDetectorRef.detectChanges();\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.component.ts","import { Component, OnInit, EventEmitter, Input, Output } from '@angular/core';\nimport { Borrower } from '../../model/borrower.model';\nimport { CacheService } from '../../cache.service';\n\ndeclare var $: any;\n\n@Component({\n  selector: 'app-borrower-picklist',\n  templateUrl: './borrower-picklist.component.html'\n})\n\n/** \n * A \"look ahead\" picklist for selecting a borrower. As characters are entered in the \n * text <input> element, the options in the <select> element are filtered to match the partial \n * text value\n */\nexport class BorrowerPicklistComponent implements OnInit {\n\n  @Input() set reset(value: boolean){\n    this.value = '';\n    $('.dropdown').hide();\n    this.refresh();\n  }\n  get reset(): boolean{\n    return null;\n  }\n\n  @Output() borrowerSelectionStarted = new EventEmitter<any>();\n  @Output() borrowerSelected = new EventEmitter<Borrower>();\n\n  value = '';\n  borrowerMap = {}\n  borrowers = [];\n  allBorrowers = [];\n  optionList = [];\n\n  constructor(private cacheService: CacheService) { }\n\n  ngOnInit() {\n    this.refresh();\n  }\n\n  /** Called when user clicks in the text field  */\n  onClickText(){this.resetPicker();}\n  \n  /** \n   * Called on keydown in the text field. \n   * At this point the field value will not yet have received the character\n   */\n  onKeydown(ev) {\n    var key = ev.key;\n    // Filter out all items which do not partial match the input value\n    if (key == 'Backspace') {\n      // Must restore list to full set before filtering\n      this.optionList = this.createOptionList(this.allBorrowers);\n      // With Backspace must ignore the last character, since it has not yet been removed\n      this.optionList = this.optionList.filter(function (option) { return option.toUpperCase().startsWith(this.value.substr(0, this.value.length - 1).toUpperCase()); }, this);\n    }\n    else if (key == \"Delete\"){\n      this.resetPicker();\n    }\n    else {\n      // For normal character, must append it to the value, since it has not yet ben added\n      this.optionList = this.optionList.filter(function (option) { return option.toUpperCase().startsWith(this.value.toUpperCase() + key.toUpperCase()); }, this);\n      this.borrowerSelectionStarted.emit(null);\n    }\n    this.populatePicker();\n    // Will not have been visible before first keystroke\n    $('.dropdown').css('display', 'block');\n  }\n\n  /** Called when user clicks on picklist */\n  onClick(me) {\n    this.value = me.target.text;\n    $('.dropdown').css('display', 'none');\n    var borrower:Borrower = this.borrowerMap[this.value];\n\n    // Reset the pick list \n    this.optionList = this.createOptionList(this.allBorrowers);\n    this.populatePicker();\n    this.borrowerSelected.emit(borrower);\n  }\n\n  /** Retrieves full list of borrowers from the cache and initializes the picklist */\n  private refresh(){\n    // Get the borrowers from the cache \n    this.allBorrowers = this.cacheService.getBorrowers();\n    // Create list options array\n    this.optionList = this.createOptionList(this.allBorrowers);\n    // Populate the picker with the entire list\n    this.populatePicker();\n    // Create map of the option strings to the Borrower objects\n    for (var i = 0; i < this.optionList.length; i++) {\n      this.borrowerMap[this.optionList[i]] = this.allBorrowers[i];\n    }\n  }\n  \n  private resetPicker(){\n    // Clear the field and restore the full list\n    this.value = '';\n    this.optionList = this.createOptionList(this.allBorrowers);\n    this.borrowerSelectionStarted.emit(null);\n  }\n\n  /** Creates the html for all the <option> elements in the picklist */\n  private populatePicker() {\n    var optionHtml = '';\n    for (var i = 0; i < this.optionList.length; i++) {\n      var option = this.optionList[i];\n      optionHtml = optionHtml.concat('<option value=\"').concat(option).concat('\">').concat(option).concat('</option>');\n    }\n    $('.dropdown').html(optionHtml);\n  }\n\n  /** Creates array of string represntations of each borrower */\n  private createOptionList(borrowers) {\n    var optionList = [];\n    for (var i = 0; i < borrowers.length; i++) {\n      var b = borrowers[i]; \n      optionList.push(b.name + ' ' + b.surname + ' ' + b.location);\n    }\n    return optionList;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/ledger/borrower-picklist/borrower-picklist.component.ts","// The file contents for the current environment will overwrite these during build.\n// The build system defaults to the dev environment which uses `environment.ts`, but if you do\n// `ng build --env=prod` then `environment.prod.ts` will be used instead.\n// The list of which env maps to which file can be found in `.angular-cli.json`.\n\nexport const environment = {\n  production: false\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/environments/environment.ts","import { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\nimport { FormsModule } from '@angular/forms';\nimport { HttpModule } from '@angular/http';\nimport { Injector } from '@angular/core';\nimport { FileSelectDirective, FileDropDirective } from 'ng2-file-upload';\n\nimport { AppComponent } from './app.component';\nimport { ServerService } from './server.service';\nimport { CacheService } from './cache.service';\nimport { UtilitiesService } from './utilities.service';\nimport { LedgerComponent } from './ledger/ledger.component';\nimport { NewCatalogComponent } from './new-catalog/new-catalog.component';\nimport { AddBookComponent } from './add-book/add-book.component';\nimport { EditCatalogComponent } from './edit-catalog/edit-catalog.component';\nimport { BorrowerPicklistComponent } from './ledger/borrower-picklist/borrower-picklist.component';\n\n@NgModule({\n  declarations: [\n    AppComponent,\n    LedgerComponent,\n    NewCatalogComponent,\n    AddBookComponent,\n    EditCatalogComponent,\n    FileSelectDirective, FileDropDirective, BorrowerPicklistComponent\n  ],\n  imports: [\n    BrowserModule,\n    FormsModule,\n    HttpModule    \n  ],\n  // Entry components are those which will be lazy loaded\n  entryComponents: [NewCatalogComponent, AddBookComponent, EditCatalogComponent, LedgerComponent],\n  providers: [ServerService, CacheService, UtilitiesService],\n  bootstrap: [AppComponent]\n})\nexport class AppModule {\n    /**\n     * Allows for retrieving singletons using `AppModule.injector.get(MyService)`\n     * (whereas `ReflectiveInjector.resolveAndCreate(MyService)` would create a\n     * new instance of the service).\n     */\n    static injector: Injector;\n\n    constructor(injector: Injector) {\n        AppModule.injector = injector;\n    }  \n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.module.ts","import { Injectable } from '@angular/core';\nimport { Http } from '@angular/http';\nimport { Response, RequestOptionsArgs } from '@angular/http';\n\n@Injectable()\nexport class ServerService {\n\n  baseUrl;\n  \n  constructor(private http: Http) {\n    console.log(document.baseURI);\n    if (document.baseURI == \"http://localhost:4200/\"){\n      // Client loaded from VSCode local server \n      this.baseUrl =\"http://localhost:8888/rest/\"; \n    }\n    else {\n      // CLient loaded from local or remote App Engine server\n      this.baseUrl =  document.baseURI + \"rest/\";\n    }\n   }\n\n  getAll(entityName: string){\n      var url = this.baseUrl + entityName;\n      return this.http.get(url);\n  }\n\n  create (entityName: string, entity: any){\n    var url = this.baseUrl + entityName;\n    var converted = this.convertFields(entity);\n    return this.http.post(url, converted);    \n  }\n\n  delete(entityName: string,  entityId) {\n    var url = this.baseUrl + entityName + '/' + entityId;\n    return this.http.delete(url);\n  }\n\n  /** Fetchees the pdf of a single book*/\n  fetchBookPdf(bookId: number){\n    var url = this.baseUrl + 'book/' + bookId;\n    window.open(url, \"_blank\");\n  }\n\n  /** Fetchees the pdf of an entire catalog*/\n  fetchCatalogPdf(catalogId: string){\n    var url = this.baseUrl + 'catalog/' + catalogId;\n    window.open(url, \"_blank\");\n  }\n\n  /** Fetches ledger PDF */\n  fetchLedgerPdf(){\n    var url = this.baseUrl + 'ledger';\n    window.open(url, \"_blank\");\n  }\n\n  // default output of date is yyyy-mm-ddThh:mm:ss.sssZ (ISO-8601)\n  private convertFields(entity: any){\n    var converted = {}\n    for (var e in entity){\n      var element = entity[e];\n      if (typeof element == \"function\"){\n        continue;\n      }\n      if (typeof element == 'string'){\n        if (element.length == 10 && element.match(\"[0-9]{4}-[0-9]{2}-[0-9]{2}\")){\n          var parts = element.split('-');\n          var date = new Date();\n          date.setFullYear(+parts[0], (+parts[1]) - 1, +parts[2]);\n          var s = this.convertDate(date);\n          converted[e] = s;\n          continue;\n        } \n        else if (element.length == 5 && element.match(\"[0-9]{2}:[0-9]{2}\")){\n          var parts = element.split(':');\n          var date = new Date();\n          date.setHours(+parts[0], +parts[1]);\n          var s = this.convertDate(date);\n          converted[e] = s;\n          continue;\n        }\n      }\n      else if (element instanceof Date){\n          var s = this.convertDate(element);\n          converted[e] = s;\n          continue;\n      }\n      if (e != \"cache\" && e != \"cacheService\"){\n        converted[e] = element;\n      }\n    }\n    return converted;\n  }\n\n  /** Converts a Date to a string formatted as \"yyyy-mm-ddThh:mm:ssZ\" */\n  private convertDate(date: Date) {\n    var s = date.toISOString();\n    var l = s.length;\n    s = s.substr(0, l - 5) +'Z';\n    return s  \n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/server.service.ts","exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/app.component.css\n// module id = 467\n// module chunks = 1","module.exports = \"<form class=\\\"form-horizontal selectable-component centered\\\" id=\\\"add-book\\\" style=\\\"width:40em\\\">\\n  <div class=\\\"panel panel-default\\\">\\n    <div class=\\\"panel-body\\\">\\n      To catalog a book, first select the catalog, then enter a book number. The default value shown is just the next one in sequence\\n      after the value of the highest number in the catalog. (If you are cataloging a book which is already in the manual system, you may want\\n      to retain the original number.)\\n    </div>\\n    <div class=\\\"panel-body\\\">\\n      <label class=\\\"control-label col-sm-4\\\" for=\\\"xx\\\">Select Catalog:</label>\\n      <div class=\\\"col-sm-4\\\">\\n        <select class=\\\"form-control\\\" id=\\\"sel1\\\" name=\\\"catalog\\\" [(ngModel)]=\\\"selectedCatalog\\\" (change)=\\\"selectCatalog()\\\" style=\\\"width:10em;\\\">\\n        <option *ngFor=\\\"let c of catalogs\\\">\\n          {{c.language}}\\n        </option>\\n      </select>\\n      </div>\\n    </div>\\n    <div class=\\\"panel-body\\\">\\n      <label class=\\\"control-label col-sm-4\\\" for=\\\"id\\\">Book Number:</label>\\n      <div class=\\\"col-sm-4\\\">\\n        <input type=\\\"text\\\" class=\\\"form-control\\\" id=\\\"id\\\" name=\\\"bookNumber\\\" [(ngModel)]=\\\"bookNumber\\\" style=\\\"width:10em;\\\"><!-- (change)=\\\"enableAdd()\\\" -->\\n       </div>\\n      <div class=\\\"col-sm-4\\\">\\n        <span style=\\\"color:red\\\">{{numberError}}</span>\\n     </div>\\n    </div>\\n    <div class=\\\"panel-body\\\">\\n      <div class=\\\"col-sm-offset-4 col-sm-8\\\">\\n        <button type=\\\"button\\\" id=\\\"add-to-catalog\\\" class=\\\"btn\\\" name=\\\"add\\\" (click)=\\\"add()\\\">Add Book to Catalog</button><!-- disabled -->\\n      </div>\\n    </div>\\n  </div>\\n  <!-- Upload area visible only after book is registered -->\\n  <div id=\\\"image-entry\\\" class=\\\"panel panel-default\\\" style=\\\"display:none;\\\">\\n    <div class=\\\"panel-body\\\">\\n      You can now upload the cover images, then generate a catalog page pdf file. This isn't necessary if the the catalog page already\\n      exists for this book.\\n      <p style=\\\"margin-top: 0.5em\\\">\\n        If you don't have the cover images now, you can upload them and generate the pdf later on the \\\"Edit a Catalog\\\" tab. If \\n        you select and upload the wrong image, you can just repeat the operation before downloading the pdf.\\n      </p>\\n    </div>\\n    <div class=\\\"panel-body\\\">\\n      <label class=\\\"control-label col-sm-3\\\" for=\\\"upload-front\\\">Front Cover:</label>\\n      <div class=\\\"col-sm-6\\\">\\n        <input type=\\\"file\\\" ng2FileSelect [uploader]=\\\"uploader\\\"/>\\n      </div>\\n      <div class=\\\"col-sm-3\\\">\\n        <button type=\\\"button\\\" class=\\\"btn btn-success btn-xs\\\" (click)=\\\"uploadImage('front')\\\">\\n            <span class=\\\"glyphicon glyphicon-upload\\\"></span> Upload\\n          </button>\\n      </div>\\n    </div>\\n    <div class=\\\"panel-body\\\">\\n      <label class=\\\"control-label col-sm-3\\\" for=\\\"upload-front\\\">Back Cover:</label>\\n      <div class=\\\"col-sm-6\\\">\\n        <input type=\\\"file\\\" ng2FileSelect [uploader]=\\\"uploader\\\" style=\\\"display: inline\\\" />\\n      </div>\\n      <div class=\\\"col-sm-3\\\">\\n        <button type=\\\"button\\\" class=\\\"btn btn-success btn-xs\\\" style=\\\"display: inline\\\" (click)=\\\"uploadImage('back')\\\">\\n            <span class=\\\"glyphicon glyphicon-upload\\\"></span> Upload\\n          </button>\\n      </div>\\n    </div>\\n    <div class=\\\"panel-body\\\">\\n      Note: There is a short delay between when the images are uploaded and when they can be used to generate the page. If the page is incomplete, just wait half a minute or so, then click the Download button again.\\n    </div>\\n    <div class=\\\"panel-body\\\">\\n      <div class=\\\"col-sm-offset-4 col-sm-8\\\">\\n        <button type=\\\"button\\\" id=\\\"download\\\" class=\\\"btn\\\" name=\\\"add\\\" (click)=\\\"downloadPdf()\\\" disabled>Download Catalog Page</button>\\n      </div>\\n    </div>\\n  </div>\\n</form>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/add-book/add-book.component.html\n// module id = 471\n// module chunks = 1","module.exports = \"<div id=\\\"for-desktop\\\" style=\\\"display:none;\\\" class=\\\"container\\\">\\n  <ul class=\\\"nav nav-tabs\\\">\\n    <li><a data-toggle=\\\"tab\\\" href=\\\"#create-catalog\\\"   (click)=\\\"activate('#new-catalog')\\\">Create New Catalog</a></li>\\n    <li><a data-toggle=\\\"tab\\\" href=\\\"#add-book\\\"         (click)=\\\"activate('#add-book')\\\">Add Book to Catalog</a></li>\\n    <li><a data-toggle=\\\"tab\\\" href=\\\"#edit-catalog\\\"     (click)=\\\"activate('#edit-catalog')\\\">Edit a Catalog</a></li>\\n    <li><a data-toggle=\\\"tab\\\" href=\\\"#view-ledger\\\"      (click)=\\\"activate('#ledger')\\\">Borrowers</a></li>\\n  </ul>\\n</div>\\n\\n<div id=\\\"initialize-progress\\\"  class=\\\"container\\\" style=\\\"margin-top: 5em\\\">\\n  Initializing \\n  <progress value=\\\"0\\\" max=\\\"4\\\" class=\\\"centered\\\" ></progress>\\n</div>\\n\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/app.component.html\n// module id = 472\n// module chunks = 1","module.exports = \"<form class=\\\"form-horizontal selectable-component centered\\\" id=\\\"edit-catalog\\\" style=\\\"width:40em\\\">\\n  <div class=\\\"panel panel-default\\\">\\n    <div class=\\\"panel-body\\\">\\n      On this page, you can upload cover images for a book already registered in the catalog, and generate the catalog page pdf\\n      for the book. You can also generate a pdf with all pages of the catalog. If you select and upload the wrong image,\\n      you can just repeat the operation\\n    </div>\\n    <div class=\\\"panel-body\\\">\\n      <label class=\\\"control-label col-sm-4\\\" for=\\\"xx\\\">Select Catalog:</label>\\n      <div class=\\\"col-sm-4\\\">\\n        <select class=\\\"form-control\\\" id=\\\"sel1\\\" name=\\\"catalog\\\" [(ngModel)]=\\\"selectedCatalog\\\" (change)=\\\"selectCatalog()\\\" style=\\\"width:10em;\\\">\\n        <option *ngFor=\\\"let c of catalogs\\\">\\n          {{c.language}}\\n        </option>\\n      </select>\\n      </div>\\n    </div>\\n    <div class=\\\"panel-body\\\">\\n      <label class=\\\"control-label col-sm-4\\\" for=\\\"xx\\\">Select Book:</label>\\n      <div class=\\\"col-sm-4\\\">\\n        <select class=\\\"form-control\\\" id=\\\"sel1\\\" name=\\\"book\\\" [(ngModel)]=\\\"selectedBook\\\" style=\\\"width:10em;\\\">\\n        <option *ngFor=\\\"let tag of bookTags\\\">\\n          {{tag}}\\n        </option>\\n      </select>\\n      </div>\\n      <div class=\\\"col-sm-3 col-sm-offset-1\\\">\\n        <button type=\\\"button\\\" id=\\\"remove\\\" name=\\\"rmove\\\" class=\\\"btn btn-info btn-xs\\\" data-toggle=\\\"modal\\\" data-target=\\\"#myModal\\\" disabled>Remove</button>\\n      </div>\\n    </div>\\n    <!-- Popup dialog for removal confirmation -->\\n    <div id=\\\"myModal\\\" class=\\\"modal fade\\\" role=\\\"dialog\\\">\\n      <div class=\\\"modal-dialog\\\">\\n        <div class=\\\"modal-content\\\">\\n          <div class=\\\"modal-header\\\">\\n            <button type=\\\"button\\\" class=\\\"close\\\" data-dismiss=\\\"modal\\\">&times;</button>\\n            <h4 class=\\\"modal-title\\\">Remove Book</h4>\\n          </div>\\n          <div class=\\\"modal-body\\\">\\n            <p>Are you sure you want to remove book {{this.bookNumber}} from the catalog?</p>\\n          </div>\\n          <div class=\\\"modal-footer\\\">\\n            <button type=\\\"button\\\" class=\\\"btn btn-default\\\" data-dismiss=\\\"modal\\\" (click)=\\\"removeBook()\\\">Yes</button>\\n            <button type=\\\"button\\\" class=\\\"btn btn-default\\\" data-dismiss=\\\"modal\\\">Cancel</button>\\n          </div>\\n        </div>\\n\\n      </div>\\n    </div>\\n    <div class=\\\"panel-body\\\">\\n      <label class=\\\"control-label col-sm-3\\\" for=\\\"upload-front\\\">Front Cover:</label>\\n      <div class=\\\"col-sm-6\\\">\\n        <input type=\\\"file\\\" ng2FileSelect [uploader]=\\\"uploader\\\" />\\n      </div>\\n      <div class=\\\"col-sm-3\\\">\\n        <button type=\\\"button\\\" class=\\\"btn btn-success btn-xs\\\" (click)=\\\"uploadImage('front')\\\">\\n            <span class=\\\"glyphicon glyphicon-upload\\\"></span> Upload\\n          </button>\\n      </div>\\n    </div>\\n    <div class=\\\"panel-body\\\">\\n      <label class=\\\"control-label col-sm-3\\\" for=\\\"upload-front\\\">Back Cover:</label>\\n      <div class=\\\"col-sm-6\\\">\\n        <input type=\\\"file\\\" ng2FileSelect [uploader]=\\\"uploader\\\" style=\\\"display: inline\\\" />\\n      </div>\\n      <div class=\\\"col-sm-3\\\">\\n        <button type=\\\"button\\\" class=\\\"btn btn-success btn-xs\\\" style=\\\"display: inline\\\" (click)=\\\"uploadImage('back')\\\">\\n            <span class=\\\"glyphicon glyphicon-upload\\\"></span> Upload\\n          </button>\\n      </div>\\n    </div>\\n    <div class=\\\"panel-body\\\">\\n      Note: If you've uploaded an image, there is a short delay before it it is available for generating the PDF document. \\n      If the page is incomplete, just wait half a minute or so, then click the Download Catalog Page button again.\\n    </div>\\n    <div class=\\\"panel-body\\\">\\n      <div class=\\\"col-sm-offset-4 col-sm-8\\\">\\n        <button type=\\\"button\\\" class=\\\"btn\\\" id=\\\"download\\\" name=\\\"download\\\" (click)=\\\"downloadPdf()\\\">Download Catalog Page</button>\\n      </div>\\n    </div>\\n    <div class=\\\"panel-body\\\">\\n      <div class=\\\"col-sm-offset-4 col-sm-8\\\">\\n        <button type=\\\"button\\\" class=\\\"btn\\\" id=\\\"download-all\\\" name=\\\"downloadAll\\\" (click)=\\\"downloadAllPdf()\\\" disabled=\\\"true\\\">Download Entire Catalog</button>\\n      </div>\\n    </div>\\n  </div>\\n</form>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/edit-catalog/edit-catalog.component.html\n// module id = 473\n// module chunks = 1","module.exports = \"<div class=\\\"centered\\\" >\\n  <!-- Text input linked to the pick list -->\\n  <div>\\n    <input type=\\\"text\\\" (keydown)=\\\"onKeydown($event)\\\" (click) = \\\"onClickText()\\\" [(ngModel)]=\\\"value\\\" class=\\\"picklist\\\">\\n  </div>\\n  <!-- Pick list visible only after user starts typing -->\\n  <div>\\n    <select name=\\\"picker\\\" id=\\\"picker\\\" size=\\\"10\\\" (click)=\\\"onClick($event)\\\" class=\\\"picklist dropdown\\\" style=\\\"display: none\\\" >\\n    </select>\\n  </div>\\n</div>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/ledger/borrower-picklist/borrower-picklist.component.html\n// module id = 474\n// module chunks = 1","module.exports = \"<form class=\\\"form-horizontal selectable-component centered\\\" id=\\\"ledger\\\" style=\\\"width:25em\\\">\\n  <!-- New Borrower Registration -->\\n  <div class='button-stack'>\\n    <button type=\\\"button\\\" id=\\\"add\\\" name=\\\"add\\\" class=\\\"btn btn-info centered\\\" data-toggle=\\\"collapse\\\" data-target=\\\"#new-borrower\\\" (click)=\\\"toggleNewBorrowerArea()\\\">Register New Borrower</button>\\n  </div>\\n  <div class=\\\"centered\\\">\\n    <div id=\\\"new-borrower\\\" class=\\\"collapse panel panel-default\\\">\\n      <div class=\\\"panel-body\\\">\\n        <label for=\\\"\\\" class=\\\"col-sm-3\\\">Name</label>\\n        <div class=\\\"col-sm-9\\\">\\n          <input type=\\\"text\\\" name=\\\"name\\\" style=\\\"text-transform: capitalize\\\" [(ngModel)]=\\\"newBorrower.name\\\">\\n        </div>\\n      </div>\\n      <div class=\\\"panel-body\\\">\\n        <label for=\\\"\\\" class=\\\"col-sm-3\\\">Surname</label>\\n        <div class=\\\"col-sm-9\\\">\\n          <input type=\\\"text\\\" name=\\\"surnamename\\\" style=\\\"text-transform: capitalize\\\" [(ngModel)]=\\\"newBorrower.surname\\\">\\n        </div>\\n      </div>\\n      <div class=\\\"panel-body\\\">\\n        <label for=\\\"\\\" class=\\\"col-sm-3\\\">Location</label>\\n        <div class=\\\"col-sm-9\\\">\\n          <input type=\\\"text\\\" name=\\\"level\\\" style=\\\"text-transform: capitalize\\\" [(ngModel)]=\\\"newBorrower.location\\\">\\n        </div>\\n      </div>\\n      <div class=\\\"panel-body\\\">\\n        <button type=\\\"button\\\" class=\\\"btn btn-default centered\\\" (click)=\\\"addBorrower()\\\">Save</button>\\n      </div>\\n      <div class=\\\"panel-body\\\">  \\n        <span>{{borrowerMessage}}</span>\\n      </div>\\n    </div>\\n  </div>\\n\\n  <!-- Update Borrower TODO\\n  <div class='button-stack'>\\n    <button type=\\\"button\\\" id=\\\"update\\\" name=\\\"update\\\" class=\\\"btn btn-info centered\\\" data-toggle=\\\"collapse\\\" data-target=\\\"#update-borrower\\\" (click)=\\\"toggleUpdateBorrowerArea()\\\">Update Borrower's Info</button>\\n  </div>\\n  <div id=\\\"update-borrower\\\" class=\\\"collapse panel panel-default\\\" style=\\\"padding-bottom:2em\\\">\\n    <div class=\\\"panel-body\\\">\\n      <label class=\\\"col-sm-3\\\">Name</label>\\n      <div class=\\\"col-sm-9\\\">\\n    <app-borrower-picklist (borrowerSelected)=\\\"onBorrowerSelected($event)\\\" [reset]=\\\"resetBorrowerPicklist\\\"></app-borrower-picklist>\\n      </div>\\n    </div>\\n\\n    <!-- Visible only after borrower has been selected  \\n    <div id=\\\"borrower-data\\\" class=\\\"centered\\\" style=\\\"display:none!important\\\">\\n        <div class=\\\"panel-body\\\">\\n          <label for=\\\"\\\" class=\\\"col-sm-3\\\">Name</label>\\n          <div class=\\\"col-sm-9\\\">\\n            <input type=\\\"text\\\" name=\\\"name\\\" [(ngModel)]=\\\"selectedBorrower.name\\\">\\n          </div>\\n        </div>\\n        <div class=\\\"panel-body\\\">\\n          <label for=\\\"\\\" class=\\\"col-sm-3\\\">Surname</label>\\n          <div class=\\\"col-sm-9\\\">\\n            <input type=\\\"text\\\" name=\\\"surnamename\\\" [(ngModel)]=\\\"selectedBorrower.surname\\\">\\n          </div>\\n        </div>\\n        <div class=\\\"panel-body\\\">\\n          <label for=\\\"\\\" class=\\\"col-sm-3\\\">Location  </label>\\n          <div class=\\\"col-sm-9\\\">\\n            <input type=\\\"text\\\" name=\\\"level\\\" [(ngModel)]=\\\"selectedBorrower.location\\\">\\n          </div>\\n        </div>\\n        <div class=\\\"panel-body\\\">\\n          <button type=\\\"button\\\" class=\\\"btn btn-default centered\\\" (click)=\\\"updateBorrower()\\\" data-toggle=\\\"collapse\\\" data-target=\\\"#update-borrower\\\">Save</button>\\n        </div>        \\n     </div>\\n  </div>\\n  -->\\n  <!-- Borrow and Return -->\\n  <div class='button-stack'>\\n    <button type=\\\"button\\\" id=\\\"br\\\" name=\\\"br\\\" class=\\\"btn btn-info centered\\\" data-toggle=\\\"collapse\\\" data-target=\\\"#borrow-return\\\" (click)=\\\"toggleBorrowReturnArea()\\\">Borrow or Return Book</button>\\n  </div>\\n  <div id=\\\"borrow-return\\\" class=\\\"collapse panel panel-default\\\" style=\\\"padding-bottom:2em\\\">\\n    <div class=\\\"panel-body\\\">\\n      <label class=\\\"col-sm-3\\\">Name</label>\\n      <div class=\\\"col-sm-9\\\">\\n        <app-borrower-picklist (borrowerSelected)=\\\"onBorrowerSelected($event)\\\" (borrowerSelectionStarted)=\\\"onBorrowerSelectionStarted($event)\\\" [reset]=\\\"resetBorrowerPicklist\\\"></app-borrower-picklist>\\n      </div>\\n      <div class=\\\"panel-body\\\">  \\n        <span>{{loanMessage}}</span>\\n      </div>\\n    </div>\\n\\n    <!-- Visible only after borrower has been selected, and the borrower has a book on loan -->\\n    <div id=\\\"borrower-status\\\" style=\\\"display:none\\\">\\n      <div class=\\\"panel-body centered\\\">\\n        <button type=\\\"button\\\" id=\\\"return\\\" class=\\\"btn centered\\\" name=\\\"return\\\" (click)=\\\"returnBook()\\\" data-toggle=\\\"collapse\\\" data-target=\\\"#borrow-return\\\">Return Book</button>\\n      </div>\\n    </div>\\n\\n    <!-- Visible only after borrower has been selected, and the borrower has no book on loan \\\"width:15em; margin-top:20px; -->\\n    <div id=\\\"select-book\\\" class=\\\"centered\\\" style=\\\"display:none!important\\\">\\n       <div class=\\\"panel-body\\\">\\n        <label class=\\\"control-label col-sm-3\\\" for=\\\"xx\\\">Catalog:</label>\\n        <div class=\\\"col-sm-9\\\">\\n          <select class=\\\"form-control\\\" id=\\\"sel1\\\" name=\\\"catalog\\\" [(ngModel)]=\\\"selectedCatalog\\\" (change)=\\\"selectCatalog()\\\" style=\\\"width:10em;\\\">\\n        <option *ngFor=\\\"let c of catalogs\\\">\\n          {{c.language}}\\n        </option>\\n      </select>\\n        </div>\\n      </div>\\n      <div class=\\\"panel-body\\\">\\n        <label class=\\\"control-label col-sm-3\\\" for=\\\"xx\\\">Book:</label>\\n        <div class=\\\"col-sm-9\\\">\\n          <select class=\\\"form-control\\\" id=\\\"sel1\\\" name=\\\"book\\\" [(ngModel)]=\\\"selectedBook\\\" (change)=\\\"selectBook()\\\" style=\\\"width:10em;\\\">\\n        <option *ngFor=\\\"let tag of bookTags\\\">\\n          {{tag}}\\n        </option>\\n      </select>\\n        </div>\\n      </div>\\n      <div class=\\\"panel-body\\\">\\n        <button type=\\\"button\\\" id=\\\"borrow\\\" name=\\\"borrow\\\" class=\\\"btn centered\\\" (click)=\\\"borrowBook()\\\" disabled >Borrow Selected Book</button>\\n      </div>\\n    </div>\\n  </div>\\n  \\n  <!-- Download Ledger -->\\n  <div id=\\\"download-ledger\\\" class='button-stack' style=\\\"display:none;\\\" >\\n    <button type=\\\"button\\\" id=\\\"dl\\\" name=\\\"dl\\\" class=\\\"btn btn-info centered\\\" (click)=\\\"downloadLedger()\\\">Download Ledger PDF</button>\\n  </div>\\n\\n</form>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/ledger/ledger.component.html\n// module id = 475\n// module chunks = 1","module.exports = \"<form class=\\\"form-horizontal selectable-component centered\\\" id=\\\"new-catalog\\\" style=\\\"width:30em\\\">\\n  <div class=\\\"panel panel-default\\\">\\n    <div class=\\\"panel-body\\\">\\n      <p>A catalog records all books of a given language.</p>\\n      <p> To start a new catalog, enter the language and a prefix. All books in the catalog are identified by a tag comprising\\n        the prefix followed by a number</p>\\n    </div>\\n    <div class=\\\"panel-body\\\">\\n      <label class=\\\"control-label col-sm-4\\\" for=\\\"language\\\">Language:</label>\\n      <div class=\\\"col-sm-8\\\">\\n        <input type=\\\"text\\\" class=\\\"form-control\\\" style=\\\"text-transform: capitalize\\\" id=\\\"language\\\" name=\\\"language\\\" [(ngModel)]=\\\"catalogLanguage\\\">\\n      </div>\\n    </div>\\n    <div class=\\\"panel-body\\\">\\n      <label class=\\\"control-label col-sm-4\\\" for=\\\"prefix\\\">Prefix:</label>\\n      <div class=\\\"col-sm-8\\\">\\n        <input type=\\\"text\\\" class=\\\"form-control\\\" style=\\\"text-transform: uppercase\\\" id=\\\"prefix\\\" name=\\\"prefix\\\" [(ngModel)]=\\\"catalogPrefix\\\">\\n      </div>\\n    </div>\\n    <div class=\\\"panel-body\\\">\\n      <div class=\\\"col-sm-offset-4 col-sm-8\\\">\\n        <button type=\\\"button\\\" class=\\\"btn\\\" (click)=\\\"createCatalog()\\\">Create Catalog</button>\\n      </div>\\n    </div>\\n    <div class=\\\"panel-body\\\">  \\n      <span>{{message}}</span>\\n    </div>\\n  </div>\\n</form>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/new-catalog/new-catalog.component.html\n// module id = 476\n// module chunks = 1","import { Injectable } from '@angular/core';\n\n@Injectable()\nexport class UtilitiesService {\n\n  constructor() { }\n\n  // Thanks to the poster at https://coderwall.com/p/i817wa/one-line-function-to-detect-mobile-devices-with-javascript\n  isMobileDevice() {\n    return (typeof window.orientation !== \"undefined\") || (navigator.userAgent.indexOf('IEMobile') !== -1);\n  };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/utilities.service.ts"],"sourceRoot":""}